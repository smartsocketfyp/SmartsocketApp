{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport NativeModules from \"react-native-web/dist/exports/NativeModules\";\nimport INTERNALS from \"../../utils/internals\";\nimport { isIOS } from \"../../utils\";\nimport ModuleBase from \"../../utils/ModuleBase\";\nimport DatabaseUtils from \"./database\";\nvar FirebaseCoreModule = NativeModules.RNFirebase;\nexport var MODULE_NAME = 'RNFirebaseUtils';\nexport var NAMESPACE = 'utils';\n\nvar RNFirebaseUtils = function (_ModuleBase) {\n  _inherits(RNFirebaseUtils, _ModuleBase);\n\n  var _super = _createSuper(RNFirebaseUtils);\n\n  function RNFirebaseUtils(app) {\n    _classCallCheck(this, RNFirebaseUtils);\n\n    return _super.call(this, app, {\n      moduleName: MODULE_NAME,\n      hasMultiAppSupport: false,\n      hasCustomUrlSupport: false,\n      namespace: NAMESPACE\n    });\n  }\n\n  _createClass(RNFirebaseUtils, [{\n    key: \"checkPlayServicesAvailability\",\n    value: function checkPlayServicesAvailability() {\n      if (isIOS) return;\n      var status = this.playServicesAvailability.status;\n\n      if (!this.playServicesAvailability.isAvailable) {\n        if (INTERNALS.OPTIONS.promptOnMissingPlayServices && this.playServicesAvailability.isUserResolvableError) {\n          this.promptForPlayServices();\n        } else {\n          var error = INTERNALS.STRINGS.ERROR_PLAY_SERVICES(status);\n\n          if (INTERNALS.OPTIONS.errorOnMissingPlayServices) {\n            if (status === 2) console.warn(error);else throw new Error(error);\n          } else {\n            console.warn(error);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"getPlayServicesStatus\",\n    value: function getPlayServicesStatus() {\n      if (isIOS) return Promise.resolve(null);\n      return FirebaseCoreModule.getPlayServicesStatus();\n    }\n  }, {\n    key: \"promptForPlayServices\",\n    value: function promptForPlayServices() {\n      if (isIOS) return null;\n      return FirebaseCoreModule.promptForPlayServices();\n    }\n  }, {\n    key: \"resolutionForPlayServices\",\n    value: function resolutionForPlayServices() {\n      if (isIOS) return null;\n      return FirebaseCoreModule.resolutionForPlayServices();\n    }\n  }, {\n    key: \"makePlayServicesAvailable\",\n    value: function makePlayServicesAvailable() {\n      if (isIOS) return null;\n      return FirebaseCoreModule.makePlayServicesAvailable();\n    }\n  }, {\n    key: \"database\",\n    get: function get() {\n      return DatabaseUtils;\n    }\n  }, {\n    key: \"logLevel\",\n    set: function set(logLevel) {\n      INTERNALS.OPTIONS.logLevel = logLevel;\n    }\n  }, {\n    key: \"playServicesAvailability\",\n    get: function get() {\n      return FirebaseCoreModule.playServicesAvailability || {\n        isAvailable: true,\n        status: 0\n      };\n    }\n  }, {\n    key: \"errorOnMissingPlayServices\",\n    set: function set(bool) {\n      INTERNALS.OPTIONS.errorOnMissingPlayServices = bool;\n    }\n  }, {\n    key: \"promptOnMissingPlayServices\",\n    set: function set(bool) {\n      INTERNALS.OPTIONS.promptOnMissingPlayServices = bool;\n    }\n  }]);\n\n  return RNFirebaseUtils;\n}(ModuleBase);\n\nexport { RNFirebaseUtils as default };\nexport var statics = {};","map":{"version":3,"sources":["C:/Users/fong/Desktop/code-18122020-combined/node_modules/react-native-firebase/dist/modules/utils/index.js"],"names":["INTERNALS","isIOS","ModuleBase","DatabaseUtils","FirebaseCoreModule","NativeModules","RNFirebase","MODULE_NAME","NAMESPACE","RNFirebaseUtils","app","moduleName","hasMultiAppSupport","hasCustomUrlSupport","namespace","status","playServicesAvailability","isAvailable","OPTIONS","promptOnMissingPlayServices","isUserResolvableError","promptForPlayServices","error","STRINGS","ERROR_PLAY_SERVICES","errorOnMissingPlayServices","console","warn","Error","Promise","resolve","getPlayServicesStatus","resolutionForPlayServices","makePlayServicesAvailable","logLevel","bool","statics"],"mappings":";;;;;;;;;;;AACA,OAAOA,SAAP;AACA,SAASC,KAAT;AACA,OAAOC,UAAP;AACA,OAAOC,aAAP;AACA,IAAMC,kBAAkB,GAAGC,aAAa,CAACC,UAAzC;AACA,OAAO,IAAMC,WAAW,GAAG,iBAApB;AACP,OAAO,IAAMC,SAAS,GAAG,OAAlB;;IACcC,e;;;;;AACnB,2BAAYC,GAAZ,EAAiB;AAAA;;AAAA,6BACTA,GADS,EACJ;AACTC,MAAAA,UAAU,EAAEJ,WADH;AAETK,MAAAA,kBAAkB,EAAE,KAFX;AAGTC,MAAAA,mBAAmB,EAAE,KAHZ;AAITC,MAAAA,SAAS,EAAEN;AAJF,KADI;AAOhB;;;;oDAU+B;AAC9B,UAAIP,KAAJ,EAAW;AADmB,UAG5Bc,MAH4B,GAI1B,KAAKC,wBAJqB,CAG5BD,MAH4B;;AAM9B,UAAI,CAAC,KAAKC,wBAAL,CAA8BC,WAAnC,EAAgD;AAC9C,YAAIjB,SAAS,CAACkB,OAAV,CAAkBC,2BAAlB,IAAiD,KAAKH,wBAAL,CAA8BI,qBAAnF,EAA0G;AACxG,eAAKC,qBAAL;AACD,SAFD,MAEO;AACL,cAAMC,KAAK,GAAGtB,SAAS,CAACuB,OAAV,CAAkBC,mBAAlB,CAAsCT,MAAtC,CAAd;;AAEA,cAAIf,SAAS,CAACkB,OAAV,CAAkBO,0BAAtB,EAAkD;AAChD,gBAAIV,MAAM,KAAK,CAAf,EAAkBW,OAAO,CAACC,IAAR,CAAaL,KAAb,EAAlB,KACK,MAAM,IAAIM,KAAJ,CAAUN,KAAV,CAAN;AACN,WAHD,MAGO;AACLI,YAAAA,OAAO,CAACC,IAAR,CAAaL,KAAb;AACD;AACF;AACF;AACF;;;4CAEuB;AACtB,UAAIrB,KAAJ,EAAW,OAAO4B,OAAO,CAACC,OAAR,CAAgB,IAAhB,CAAP;AACX,aAAO1B,kBAAkB,CAAC2B,qBAAnB,EAAP;AACD;;;4CAEuB;AACtB,UAAI9B,KAAJ,EAAW,OAAO,IAAP;AACX,aAAOG,kBAAkB,CAACiB,qBAAnB,EAAP;AACD;;;gDAE2B;AAC1B,UAAIpB,KAAJ,EAAW,OAAO,IAAP;AACX,aAAOG,kBAAkB,CAAC4B,yBAAnB,EAAP;AACD;;;gDAE2B;AAC1B,UAAI/B,KAAJ,EAAW,OAAO,IAAP;AACX,aAAOG,kBAAkB,CAAC6B,yBAAnB,EAAP;AACD;;;wBAhDc;AACb,aAAO9B,aAAP;AACD;;;sBAsDY+B,Q,EAAU;AACrBlC,MAAAA,SAAS,CAACkB,OAAV,CAAkBgB,QAAlB,GAA6BA,QAA7B;AACD;;;wBAQ8B;AAC7B,aAAO9B,kBAAkB,CAACY,wBAAnB,IAA+C;AACpDC,QAAAA,WAAW,EAAE,IADuC;AAEpDF,QAAAA,MAAM,EAAE;AAF4C,OAAtD;AAID;;;sBAQ8BoB,I,EAAM;AACnCnC,MAAAA,SAAS,CAACkB,OAAV,CAAkBO,0BAAlB,GAA+CU,IAA/C;AACD;;;sBAQ+BA,I,EAAM;AACpCnC,MAAAA,SAAS,CAACkB,OAAV,CAAkBC,2BAAlB,GAAgDgB,IAAhD;AACD;;;;EArG0CjC,U;;SAAxBO,e;AAwGrB,OAAO,IAAM2B,OAAO,GAAG,EAAhB","sourcesContent":["import { NativeModules } from 'react-native';\nimport INTERNALS from '../../utils/internals';\nimport { isIOS } from '../../utils';\nimport ModuleBase from '../../utils/ModuleBase';\nimport DatabaseUtils from './database';\nconst FirebaseCoreModule = NativeModules.RNFirebase;\nexport const MODULE_NAME = 'RNFirebaseUtils';\nexport const NAMESPACE = 'utils';\nexport default class RNFirebaseUtils extends ModuleBase {\n  constructor(app) {\n    super(app, {\n      moduleName: MODULE_NAME,\n      hasMultiAppSupport: false,\n      hasCustomUrlSupport: false,\n      namespace: NAMESPACE\n    });\n  }\n\n  get database() {\n    return DatabaseUtils;\n  }\n  /**\n   *\n   */\n\n\n  checkPlayServicesAvailability() {\n    if (isIOS) return;\n    const {\n      status\n    } = this.playServicesAvailability;\n\n    if (!this.playServicesAvailability.isAvailable) {\n      if (INTERNALS.OPTIONS.promptOnMissingPlayServices && this.playServicesAvailability.isUserResolvableError) {\n        this.promptForPlayServices();\n      } else {\n        const error = INTERNALS.STRINGS.ERROR_PLAY_SERVICES(status);\n\n        if (INTERNALS.OPTIONS.errorOnMissingPlayServices) {\n          if (status === 2) console.warn(error); // only warn if it exists but may need an update\n          else throw new Error(error);\n        } else {\n          console.warn(error);\n        }\n      }\n    }\n  }\n\n  getPlayServicesStatus() {\n    if (isIOS) return Promise.resolve(null);\n    return FirebaseCoreModule.getPlayServicesStatus();\n  }\n\n  promptForPlayServices() {\n    if (isIOS) return null;\n    return FirebaseCoreModule.promptForPlayServices();\n  }\n\n  resolutionForPlayServices() {\n    if (isIOS) return null;\n    return FirebaseCoreModule.resolutionForPlayServices();\n  }\n\n  makePlayServicesAvailable() {\n    if (isIOS) return null;\n    return FirebaseCoreModule.makePlayServicesAvailable();\n  }\n  /**\n   * Set the global logging level for all logs.\n   *\n   * @param logLevel\n   */\n\n\n  set logLevel(logLevel) {\n    INTERNALS.OPTIONS.logLevel = logLevel;\n  }\n  /**\n   * Returns props from the android GoogleApiAvailability sdk\n   * @android\n   * @return {RNFirebase.GoogleApiAvailabilityType|{isAvailable: boolean, status: number}}\n   */\n\n\n  get playServicesAvailability() {\n    return FirebaseCoreModule.playServicesAvailability || {\n      isAvailable: true,\n      status: 0\n    };\n  }\n  /**\n   * Enable/Disable throwing an error or warning on detecting a play services problem\n   * @android\n   * @param bool\n   */\n\n\n  set errorOnMissingPlayServices(bool) {\n    INTERNALS.OPTIONS.errorOnMissingPlayServices = bool;\n  }\n  /**\n   * Enable/Disable automatic prompting of the play services update dialog\n   * @android\n   * @param bool\n   */\n\n\n  set promptOnMissingPlayServices(bool) {\n    INTERNALS.OPTIONS.promptOnMissingPlayServices = bool;\n  }\n\n}\nexport const statics = {};"]},"metadata":{},"sourceType":"module"}