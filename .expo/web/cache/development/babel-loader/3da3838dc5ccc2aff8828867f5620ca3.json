{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\fong\\\\Desktop\\\\Fong JY\\\\NUS\\\\Year 4 Semester 2\\\\EE4002D - Design Capstone\\\\Software Code\\\\code-18122020-combined\\\\Screens\\\\PastUsageScreen.js\";\nimport * as React from 'react';\nimport { useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport firebase from 'firebase/app';\nimport \"firebase/auth\";\nimport 'firebase/database';\n\nfunction PastUsageScreen(_ref) {\n  var _this = this;\n\n  var route = _ref.route,\n      navigation = _ref.navigation;\n  var data = route.params;\n\n  var _React$useState = React.useState(''),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      Power = _React$useState2[0],\n      setPower = _React$useState2[1];\n\n  var _React$useState3 = React.useState(''),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      currenttime = _React$useState4[0],\n      setcurrenttime = _React$useState4[1];\n\n  useEffect(function () {\n    setInterval(function () {\n      return getDate() > readData({\n        data: data\n      });\n    }, 3000);\n  });\n\n  var readData = function readData(_ref2) {\n    var data = _ref2.data;\n    firebase.database().ref('/Socket ID/' + data.slice(17, 20)).once('value').then(function (snapshot) {\n      setPower(snapshot.val() && snapshot.val().setPower);\n    });\n  };\n\n  var getDate = function getDate() {\n    var now = new Date();\n    var time = now.getHours() + \":\" + now.getMinutes();\n    setcurrenttime(time);\n  };\n\n  return React.createElement(ScrollView, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: styles.Instructions,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 17\n    }\n  }, \" Records of Past Usage (Date/Watts) \"), React.createElement(FlatList, {\n    data: Power,\n    renderItem: function renderItem(_ref3) {\n      var item = _ref3.item,\n          index = _ref3.index;\n      return React.createElement(Text, {\n        style: styles.Instructions,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 29\n        }\n      }, Power);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 17\n    }\n  }), React.createElement(TouchableOpacity, {\n    style: styles.Navigation_Button,\n    onPress: function onPress() {\n      return navigation.navigate('Main Function');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: styles.Button_Text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 21\n    }\n  }, \" Return to Main Function \"))));\n}\n\nvar styles = StyleSheet.create({\n  Instructions: {\n    textAlign: 'center',\n    marginLeft: 25,\n    marginRight: 25,\n    marginTop: 50,\n    marginBottom: 25,\n    color: \"#000\",\n    fontWeight: \"bold\",\n    fontSize: 25\n  },\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#fff'\n  },\n  Navigation_Button: {\n    backgroundColor: '#000080',\n    borderRadius: 4,\n    height: 52,\n    width: 300,\n    marginTop: 25,\n    marginBottom: 250,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  Button_Text: {\n    color: \"#FFF\",\n    fontWeight: \"600\"\n  }\n});\nexport default PastUsageScreen;","map":{"version":3,"sources":["C:/Users/fong/Desktop/Fong JY/NUS/Year 4 Semester 2/EE4002D - Design Capstone/Software Code/code-18122020-combined/Screens/PastUsageScreen.js"],"names":["React","useEffect","firebase","PastUsageScreen","route","navigation","data","params","useState","Power","setPower","currenttime","setcurrenttime","setInterval","getDate","readData","database","ref","slice","once","then","snapshot","val","now","Date","time","getHours","getMinutes","styles","container","Instructions","item","index","Navigation_Button","navigate","Button_Text","StyleSheet","create","textAlign","marginLeft","marginRight","marginTop","marginBottom","color","fontWeight","fontSize","flex","alignItems","justifyContent","backgroundColor","borderRadius","height","width"],"mappings":"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","sourcesContent":["import * as React from 'react';\r\nimport {useEffect} from \"react\";\r\nimport { View, Text, TextInput, FlatList, TouchableOpacity, ScrollView, StyleSheet} from 'react-native';\r\nimport firebase from 'firebase/app';\r\nimport \"firebase/auth\";\r\nimport 'firebase/database';\r\n\r\nfunction PastUsageScreen({ route, navigation }) {\r\n    let data = route.params;\r\n    const [Power, setPower] = React.useState('');\r\n    const [currenttime, setcurrenttime] = React.useState('');\r\n\r\n    useEffect(() => {\r\n        setInterval(() => (getDate() > readData({data})), 3000);\r\n    });\r\n\r\n    const readData = ({data}) => {\r\n        firebase.database().ref('/Socket ID/' + data.slice(17,20)).once('value').then((snapshot) => {\r\n        setPower(snapshot.val() && snapshot.val().setPower) ;\r\n        })\r\n    };\r\n\r\n    const getDate = () => {\r\n        var now = new Date();\r\n        var time = now.getHours() + \":\" + now.getMinutes();\r\n        setcurrenttime(time)\r\n    }\r\n\r\n    return (\r\n        <ScrollView>\r\n            <View style={styles.container}>\r\n                <Text style = {styles.Instructions}> Records of Past Usage (Date/Watts) </Text>\r\n\r\n                <FlatList\r\n                    data = {Power}\r\n                    renderItem = {({ item, index}) =>{\r\n                        return(\r\n                            <Text style = {styles.Instructions}> \r\n                                {Power}\r\n                            </Text>\r\n                        )\r\n                    }}\r\n                >\r\n\r\n                </FlatList>\r\n                \r\n                \r\n                <TouchableOpacity\r\n                    style={styles.Navigation_Button}\r\n                    onPress={() => navigation.navigate('Main Function')}\r\n                >\r\n                    <Text style = {styles.Button_Text}> Return to Main Function </Text>\r\n                </TouchableOpacity>   \r\n                \r\n            </View>\r\n        </ScrollView>\r\n    );\r\n  }\r\n\r\n  const styles = StyleSheet.create({\r\n    Instructions: {\r\n      textAlign: 'center',\r\n      marginLeft: 25,\r\n      marginRight: 25,\r\n      marginTop: 50,\r\n      marginBottom: 25,\r\n      color: \"#000\", \r\n      fontWeight: \"bold\", \r\n      fontSize: 25\r\n    },\r\n\r\n    container: {\r\n        flex : 1,\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        backgroundColor: '#fff',\r\n    },\r\n\r\n    Navigation_Button: {\r\n      backgroundColor : '#000080',\r\n      borderRadius : 4,\r\n      height: 52,\r\n      width : 300,\r\n      marginTop: 25,\r\n      marginBottom: 250,\r\n      alignItems: 'center',\r\n      justifyContent: 'center'\r\n    },\r\n\r\n    Button_Text: {\r\n        color: \"#FFF\",\r\n        fontWeight: \"600\"\r\n    }\r\n\r\n});\r\n\r\nexport default PastUsageScreen;"]},"metadata":{},"sourceType":"module"}