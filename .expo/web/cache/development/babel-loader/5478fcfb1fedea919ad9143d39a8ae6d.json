{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\orange7332\\\\Desktop\\\\SmartsocketApp\\\\Screens\\\\PastUsageBarchart.js\";\nimport { BarChart } from 'react-native-charts';\nimport Image from \"react-native-web/dist/exports/Image\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nvar database = firebase.database();\n\nfunction PastUsageBarchartaa(_ref) {\n  var route = _ref.route,\n      navigation = _ref.navigation;\n  var data = route.params;\n\n  var _React$useState = React.useState(''),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      PowerConsumed = _React$useState2[0],\n      setPowerConsumed = _React$useState2[1];\n\n  var _React$useState3 = React.useState(''),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      currenttime = _React$useState4[0],\n      setcurrenttime = _React$useState4[1];\n\n  useEffect(function () {\n    setInterval(function () {\n      return getDate() > readData({\n        data: data\n      });\n    }, 1000);\n  });\n\n  var readData = function readData(_ref2) {\n    var data = _ref2.data;\n    firebase.database().ref('/Socket ID/' + data.slice(17, 20)).once('value').then(function (snapshot) {\n      setPowerConsumed(snapshot.val() && snapshot.val().Power);\n    });\n  };\n\n  var getDate = function getDate() {\n    var now = new Date();\n    var time = new Date(now.getTime());\n    setcurrenttime(time + \"\");\n  };\n\n  var chartConfig = {\n    backgroundGradientFrom: \"#1E2923\",\n    backgroundGradientFromOpacity: 0,\n    backgroundGradientTo: \"#08130D\",\n    backgroundGradientToOpacity: 0.5,\n    color: function color() {\n      var opacity = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n      return \"rgba(26, 255, 146, \" + opacity + \")\";\n    },\n    strokeWidth: 2,\n    barPercentage: 0.5,\n    useShadowColorFromDataset: false\n  };\n  return React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, \"Past Usgage Bar Chart \"), React.createElement(TouchableOpacity, {\n    style: styles.Navigation_Button,\n    onPress: function onPress() {\n      return navigation.navigate('Main Function');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.Button_Text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 25\n    }\n  }, \" Return to Main Function \")), React.createElement(BarChart, {\n    style: graphStyle,\n    data: data,\n    width: screenWidth,\n    height: 220,\n    yAxisLabel: \"$\",\n    chartConfig: chartConfig,\n    verticalLabelRotation: 30,\n    dataSets: [{\n      fillColor: '#46b3f7',\n      data: [{\n        value: 15\n      }, {\n        value: 10\n      }, {\n        value: 12\n      }, {\n        value: 11\n      }]\n    }],\n    graduation: 1,\n    horizontal: false,\n    showGrid: true,\n    barSpacing: 5,\n    style: {\n      height: 300,\n      margin: 15\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }));\n}\n\nexport default PastUsageBarchartaa;","map":{"version":3,"sources":["C:/Users/orange7332/Desktop/SmartsocketApp/Screens/PastUsageBarchart.js"],"names":["BarChart","database","firebase","PastUsageBarchartaa","route","navigation","data","params","React","useState","PowerConsumed","setPowerConsumed","currenttime","setcurrenttime","useEffect","setInterval","getDate","readData","ref","slice","once","then","snapshot","val","Power","now","Date","time","getTime","chartConfig","backgroundGradientFrom","backgroundGradientFromOpacity","backgroundGradientTo","backgroundGradientToOpacity","color","opacity","strokeWidth","barPercentage","useShadowColorFromDataset","styles","Navigation_Button","navigate","Button_Text","graphStyle","screenWidth","fillColor","value","height","margin"],"mappings":"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","sourcesContent":["import { BarChart } from 'react-native-charts';\r\n import { Image, View, Text, TouchableOpacity, StyleSheet} from 'react-native';\r\n\r\n var database = firebase.database();\r\n\r\n function PastUsageBarchartaa({ route, navigation }) {\r\n     let data = route.params;\r\n     const [PowerConsumed, setPowerConsumed] = React.useState('');\r\n     const [currenttime, setcurrenttime] = React.useState('');\r\n\r\n     useEffect(() => {\r\n        setInterval(() => (getDate() > readData({data})), 1000);\r\n    });\r\n\r\n    const readData = ({data}) => {\r\n        firebase.database().ref('/Socket ID/' + data.slice(17,20)).once('value').then((snapshot) => {\r\n        setPowerConsumed(snapshot.val() && snapshot.val().Power) ;\r\n        })\r\n    };\r\n\r\n    const getDate = () => {\r\n        var now = new Date();\r\n        var time = new Date(now.getTime());\r\n        setcurrenttime(time + \"\");\r\n    }\r\n\r\n    const chartConfig = {\r\n      backgroundGradientFrom: \"#1E2923\",\r\n      backgroundGradientFromOpacity: 0,\r\n      backgroundGradientTo: \"#08130D\",\r\n      backgroundGradientToOpacity: 0.5,\r\n      color: (opacity = 1) => `rgba(26, 255, 146, ${opacity})`,\r\n      strokeWidth: 2, // optional, default 3\r\n      barPercentage: 0.5,\r\n      useShadowColorFromDataset: false // optional\r\n    };\r\n\r\n    return (\r\n        <View>\r\n\r\n        <Text>Past Usgage Bar Chart </Text>\r\n\r\n        <TouchableOpacity\r\n                        style={styles.Navigation_Button}\r\n                        onPress={() => navigation.navigate('Main Function')}\r\n                    >\r\n                        <Text style = {styles.Button_Text}> Return to Main Function </Text>\r\n                    </TouchableOpacity>   \r\n            <BarChart\r\n              style={graphStyle}\r\n              data={data}\r\n              width={screenWidth}\r\n              height={220}\r\n              yAxisLabel=\"$\"\r\n              chartConfig={chartConfig}\r\n              verticalLabelRotation={30}\r\n            dataSets={[\r\n    { \r\n                  fillColor: '#46b3f7', \r\n                data: [\r\n                  { value: 15 },\r\n                  { value: 10 },\r\n                  { value: 12 },\r\n                  { value: 11 },\r\n                 ]\r\n             },\r\n            ]\r\n        }\r\n  graduation={1}\r\n  horizontal={false}\r\n  showGrid={true}\r\n  barSpacing={5}\r\n  style={{\r\n    height: 300,\r\n    margin: 15,\r\n  }}/>\r\n  </View>\r\n  \r\n);\r\n }\r\n\r\nexport default PastUsageBarchartaa;\r\n\r\n"]},"metadata":{},"sourceType":"module"}