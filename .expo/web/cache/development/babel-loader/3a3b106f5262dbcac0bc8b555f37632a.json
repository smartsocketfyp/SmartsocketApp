{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport DynamicLink from \"./DynamicLink\";\nimport { SharedEventEmitter } from \"../../utils/events\";\nimport { getLogger } from \"../../utils/log\";\nimport ModuleBase from \"../../utils/ModuleBase\";\nimport { getNativeModule } from \"../../utils/native\";\nvar NATIVE_EVENTS = ['links_link_received'];\nexport var MODULE_NAME = 'RNFirebaseLinks';\nexport var NAMESPACE = 'links';\n\nvar Links = function (_ModuleBase) {\n  _inherits(Links, _ModuleBase);\n\n  var _super = _createSuper(Links);\n\n  function Links(app) {\n    var _this;\n\n    _classCallCheck(this, Links);\n\n    _this = _super.call(this, app, {\n      events: NATIVE_EVENTS,\n      moduleName: MODULE_NAME,\n      hasMultiAppSupport: false,\n      hasCustomUrlSupport: false,\n      namespace: NAMESPACE\n    });\n    SharedEventEmitter.addListener('links_link_received', function (link) {\n      SharedEventEmitter.emit('onLink', link);\n    });\n\n    if (Platform.OS === 'ios') {\n      getNativeModule(_assertThisInitialized(_this)).jsInitialised();\n    }\n\n    return _this;\n  }\n\n  _createClass(Links, [{\n    key: \"createDynamicLink\",\n    value: function createDynamicLink(link) {\n      if (!(link instanceof DynamicLink)) {\n        return Promise.reject(new Error(\"Links:createDynamicLink expects a 'DynamicLink' but got type \" + typeof link));\n      }\n\n      try {\n        return getNativeModule(this).createDynamicLink(link.build());\n      } catch (error) {\n        return Promise.reject(error);\n      }\n    }\n  }, {\n    key: \"createShortDynamicLink\",\n    value: function createShortDynamicLink(link, type) {\n      if (!(link instanceof DynamicLink)) {\n        return Promise.reject(new Error(\"Links:createShortDynamicLink expects a 'DynamicLink' but got type \" + typeof link));\n      }\n\n      try {\n        return getNativeModule(this).createShortDynamicLink(link.build(), type);\n      } catch (error) {\n        return Promise.reject(error);\n      }\n    }\n  }, {\n    key: \"getInitialLink\",\n    value: function getInitialLink() {\n      return getNativeModule(this).getInitialLink();\n    }\n  }, {\n    key: \"onLink\",\n    value: function onLink(listener) {\n      var _this2 = this;\n\n      getLogger(this).info('Creating onLink listener');\n      SharedEventEmitter.addListener('onLink', listener);\n      return function () {\n        getLogger(_this2).info('Removing onLink listener');\n        SharedEventEmitter.removeListener('onLink', listener);\n      };\n    }\n  }]);\n\n  return Links;\n}(ModuleBase);\n\nexport { Links as default };\nexport var statics = {\n  DynamicLink: DynamicLink\n};","map":{"version":3,"sources":["C:/Users/fong/Desktop/code-18122020-combined/node_modules/react-native-firebase/dist/modules/links/index.js"],"names":["DynamicLink","SharedEventEmitter","getLogger","ModuleBase","getNativeModule","NATIVE_EVENTS","MODULE_NAME","NAMESPACE","Links","app","events","moduleName","hasMultiAppSupport","hasCustomUrlSupport","namespace","addListener","link","emit","Platform","OS","jsInitialised","Promise","reject","Error","createDynamicLink","build","error","type","createShortDynamicLink","getInitialLink","listener","info","removeListener","statics"],"mappings":";;;;;;;;;;;;AAKA,OAAOA,WAAP;AACA,SAASC,kBAAT;AACA,SAASC,SAAT;AACA,OAAOC,UAAP;AACA,SAASC,eAAT;AACA,IAAMC,aAAa,GAAG,CAAC,qBAAD,CAAtB;AACA,OAAO,IAAMC,WAAW,GAAG,iBAApB;AACP,OAAO,IAAMC,SAAS,GAAG,OAAlB;;IAKcC,K;;;;;AACnB,iBAAYC,GAAZ,EAAiB;AAAA;;AAAA;;AACf,8BAAMA,GAAN,EAAW;AACTC,MAAAA,MAAM,EAAEL,aADC;AAETM,MAAAA,UAAU,EAAEL,WAFH;AAGTM,MAAAA,kBAAkB,EAAE,KAHX;AAITC,MAAAA,mBAAmB,EAAE,KAJZ;AAKTC,MAAAA,SAAS,EAAEP;AALF,KAAX;AAOAN,IAAAA,kBAAkB,CAACc,WAAnB,CAEA,qBAFA,EAEuB,UAAAC,IAAI,EAAI;AAC7Bf,MAAAA,kBAAkB,CAACgB,IAAnB,CAAwB,QAAxB,EAAkCD,IAAlC;AACD,KAJD;;AAMA,QAAIE,QAAQ,CAACC,EAAT,KAAgB,KAApB,EAA2B;AACzBf,MAAAA,eAAe,+BAAf,CAAsBgB,aAAtB;AACD;;AAhBc;AAiBhB;;;;sCAQiBJ,I,EAAM;AACtB,UAAI,EAAEA,IAAI,YAAYhB,WAAlB,CAAJ,EAAoC;AAClC,eAAOqB,OAAO,CAACC,MAAR,CAAe,IAAIC,KAAJ,mEAA0E,OAAOP,IAAjF,CAAf,CAAP;AACD;;AAED,UAAI;AACF,eAAOZ,eAAe,CAAC,IAAD,CAAf,CAAsBoB,iBAAtB,CAAwCR,IAAI,CAACS,KAAL,EAAxC,CAAP;AACD,OAFD,CAEE,OAAOC,KAAP,EAAc;AACd,eAAOL,OAAO,CAACC,MAAR,CAAeI,KAAf,CAAP;AACD;AACF;;;2CAQsBV,I,EAAMW,I,EAAM;AACjC,UAAI,EAAEX,IAAI,YAAYhB,WAAlB,CAAJ,EAAoC;AAClC,eAAOqB,OAAO,CAACC,MAAR,CAAe,IAAIC,KAAJ,wEAA+E,OAAOP,IAAtF,CAAf,CAAP;AACD;;AAED,UAAI;AACF,eAAOZ,eAAe,CAAC,IAAD,CAAf,CAAsBwB,sBAAtB,CAA6CZ,IAAI,CAACS,KAAL,EAA7C,EAA2DE,IAA3D,CAAP;AACD,OAFD,CAEE,OAAOD,KAAP,EAAc;AACd,eAAOL,OAAO,CAACC,MAAR,CAAeI,KAAf,CAAP;AACD;AACF;;;qCAOgB;AACf,aAAOtB,eAAe,CAAC,IAAD,CAAf,CAAsByB,cAAtB,EAAP;AACD;;;2BAQMC,Q,EAAU;AAAA;;AACf5B,MAAAA,SAAS,CAAC,IAAD,CAAT,CAAgB6B,IAAhB,CAAqB,0BAArB;AACA9B,MAAAA,kBAAkB,CAACc,WAAnB,CAA+B,QAA/B,EAAyCe,QAAzC;AACA,aAAO,YAAM;AACX5B,QAAAA,SAAS,CAAC,MAAD,CAAT,CAAgB6B,IAAhB,CAAqB,0BAArB;AACA9B,QAAAA,kBAAkB,CAAC+B,cAAnB,CAAkC,QAAlC,EAA4CF,QAA5C;AACD,OAHD;AAID;;;;EA9EgC3B,U;;SAAdK,K;AAiFrB,OAAO,IAAMyB,OAAO,GAAG;AACrBjC,EAAAA,WAAW,EAAXA;AADqB,CAAhB","sourcesContent":["/**\n * \n * Dynamic Links representation wrapper\n */\nimport { Platform } from 'react-native';\nimport DynamicLink from './DynamicLink';\nimport { SharedEventEmitter } from '../../utils/events';\nimport { getLogger } from '../../utils/log';\nimport ModuleBase from '../../utils/ModuleBase';\nimport { getNativeModule } from '../../utils/native';\nconst NATIVE_EVENTS = ['links_link_received'];\nexport const MODULE_NAME = 'RNFirebaseLinks';\nexport const NAMESPACE = 'links';\n/**\n * @class Links\n */\n\nexport default class Links extends ModuleBase {\n  constructor(app) {\n    super(app, {\n      events: NATIVE_EVENTS,\n      moduleName: MODULE_NAME,\n      hasMultiAppSupport: false,\n      hasCustomUrlSupport: false,\n      namespace: NAMESPACE\n    });\n    SharedEventEmitter.addListener( // sub to internal native event - this fans out to\n    // public event name: onMessage\n    'links_link_received', link => {\n      SharedEventEmitter.emit('onLink', link);\n    }); // Tell the native module that we're ready to receive events\n\n    if (Platform.OS === 'ios') {\n      getNativeModule(this).jsInitialised();\n    }\n  }\n  /**\n   * Create long Dynamic Link from parameters\n   * @param parameters\n   * @returns {Promise.<string>}\n   */\n\n\n  createDynamicLink(link) {\n    if (!(link instanceof DynamicLink)) {\n      return Promise.reject(new Error(`Links:createDynamicLink expects a 'DynamicLink' but got type ${typeof link}`));\n    }\n\n    try {\n      return getNativeModule(this).createDynamicLink(link.build());\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  }\n  /**\n   * Create short Dynamic Link from parameters\n   * @param parameters\n   * @returns {Promise.<string>}\n   */\n\n\n  createShortDynamicLink(link, type) {\n    if (!(link instanceof DynamicLink)) {\n      return Promise.reject(new Error(`Links:createShortDynamicLink expects a 'DynamicLink' but got type ${typeof link}`));\n    }\n\n    try {\n      return getNativeModule(this).createShortDynamicLink(link.build(), type);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  }\n  /**\n   * Returns the link that triggered application open\n   * @returns {Promise.<string>}\n   */\n\n\n  getInitialLink() {\n    return getNativeModule(this).getInitialLink();\n  }\n  /**\n   * Subscribe to dynamic links\n   * @param listener\n   * @returns {Function}\n   */\n\n\n  onLink(listener) {\n    getLogger(this).info('Creating onLink listener');\n    SharedEventEmitter.addListener('onLink', listener);\n    return () => {\n      getLogger(this).info('Removing onLink listener');\n      SharedEventEmitter.removeListener('onLink', listener);\n    };\n  }\n\n}\nexport const statics = {\n  DynamicLink\n};"]},"metadata":{},"sourceType":"module"}