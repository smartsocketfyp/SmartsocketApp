{"ast":null,"code":"'use strict';\n\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\fong\\\\Desktop\\\\code-18122020-combined\\\\node_modules\\\\react-native-qrcode-scanner\\\\index.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Vibration from \"react-native-web/dist/exports/Vibration\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Easing from \"react-native-web/dist/exports/Easing\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport PermissionsAndroid from \"react-native-web/dist/exports/PermissionsAndroid\";\nimport { request, PERMISSIONS, RESULTS } from 'react-native-permissions';\nimport { RNCamera as Camera } from 'react-native-camera';\nvar CAMERA_FLASH_MODE = Camera.Constants.FlashMode;\nvar CAMERA_FLASH_MODES = [CAMERA_FLASH_MODE.torch, CAMERA_FLASH_MODE.on, CAMERA_FLASH_MODE.off, CAMERA_FLASH_MODE.auto];\n\nvar QRCodeScanner = function (_Component) {\n  _inherits(QRCodeScanner, _Component);\n\n  var _super = _createSuper(QRCodeScanner);\n\n  function QRCodeScanner(props) {\n    var _this;\n\n    _classCallCheck(this, QRCodeScanner);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      scanning: false,\n      isCameraActivated: true,\n      fadeInOpacity: new Animated.Value(0),\n      isAuthorized: false,\n      isAuthorizationChecked: false,\n      disableVibrationByUser: false\n    };\n    _this._scannerTimeout = null;\n    _this._handleBarCodeRead = _this._handleBarCodeRead.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(QRCodeScanner, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      if (Platform.OS === 'ios') {\n        request(PERMISSIONS.IOS.CAMERA).then(function (cameraStatus) {\n          _this2.setState({\n            isAuthorized: cameraStatus === RESULTS.GRANTED,\n            isAuthorizationChecked: true\n          });\n        });\n      } else if (Platform.OS === 'android' && this.props.checkAndroid6Permissions) {\n        PermissionsAndroid.request(PermissionsAndroid.PERMISSIONS.CAMERA, {\n          title: this.props.permissionDialogTitle,\n          message: this.props.permissionDialogMessage,\n          buttonPositive: this.props.buttonPositive\n        }).then(function (granted) {\n          var isAuthorized = granted === PermissionsAndroid.RESULTS.GRANTED;\n\n          _this2.setState({\n            isAuthorized: isAuthorized,\n            isAuthorizationChecked: true\n          });\n        });\n      } else {\n        this.setState({\n          isAuthorized: true,\n          isAuthorizationChecked: true\n        });\n      }\n\n      if (this.props.fadeIn) {\n        Animated.sequence([Animated.delay(1000), Animated.timing(this.state.fadeInOpacity, {\n          toValue: 1,\n          easing: Easing.inOut(Easing.quad),\n          useNativeDriver: true\n        })]).start();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this._scannerTimeout !== null) {\n        clearTimeout(this._scannerTimeout);\n      }\n\n      this._scannerTimeout = null;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.setState({\n        disableVibrationByUser: true\n      });\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.setState({\n        disableVibrationByUser: false\n      });\n    }\n  }, {\n    key: \"_setScanning\",\n    value: function _setScanning(value) {\n      this.setState({\n        scanning: value\n      });\n    }\n  }, {\n    key: \"_setCamera\",\n    value: function _setCamera(value) {\n      var _this3 = this;\n\n      this.setState({\n        isCameraActivated: value,\n        scanning: false,\n        fadeInOpacity: new Animated.Value(0)\n      }, function () {\n        if (value && _this3.props.fadeIn) {\n          if (_this3.props.fadeIn) {\n            Animated.sequence([Animated.delay(10), Animated.timing(_this3.state.fadeInOpacity, {\n              toValue: 1,\n              easing: Easing.inOut(Easing.quad),\n              useNativeDriver: true\n            })]).start();\n          }\n        }\n      });\n    }\n  }, {\n    key: \"_handleBarCodeRead\",\n    value: function _handleBarCodeRead(e) {\n      var _this4 = this;\n\n      if (!this.state.scanning && !this.state.disableVibrationByUser) {\n        if (this.props.vibrate) {\n          Vibration.vibrate();\n        }\n\n        this._setScanning(true);\n\n        this.props.onRead(e);\n\n        if (this.props.reactivate) {\n          this._scannerTimeout = setTimeout(function () {\n            return _this4._setScanning(false);\n          }, this.props.reactivateTimeout);\n        }\n      }\n    }\n  }, {\n    key: \"_renderTopContent\",\n    value: function _renderTopContent() {\n      if (this.props.topContent) {\n        return this.props.topContent;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"_renderBottomContent\",\n    value: function _renderBottomContent() {\n      if (this.props.bottomContent) {\n        return this.props.bottomContent;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"_renderCameraMarker\",\n    value: function _renderCameraMarker() {\n      if (this.props.showMarker) {\n        if (this.props.customMarker) {\n          return this.props.customMarker;\n        } else {\n          return React.createElement(View, {\n            style: styles.rectangleContainer,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 6\n            }\n          }, React.createElement(View, {\n            style: [styles.rectangle, this.props.markerStyle ? this.props.markerStyle : null],\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 7\n            }\n          }));\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: \"_renderCameraComponent\",\n    value: function _renderCameraComponent() {\n      return React.createElement(Camera, _extends({\n        androidCameraPermissionOptions: {\n          title: this.props.permissionDialogTitle,\n          message: this.props.permissionDialogMessage,\n          buttonPositive: this.props.buttonPositive\n        },\n        style: [styles.camera, this.props.cameraStyle],\n        onBarCodeRead: this._handleBarCodeRead.bind(this),\n        type: this.props.cameraType,\n        flashMode: this.props.flashMode,\n        captureAudio: false\n      }, this.props.cameraProps, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 4\n        }\n      }), this._renderCameraMarker());\n    }\n  }, {\n    key: \"_renderCamera\",\n    value: function _renderCamera() {\n      var _this5 = this;\n\n      var _this$props = this.props,\n          notAuthorizedView = _this$props.notAuthorizedView,\n          pendingAuthorizationView = _this$props.pendingAuthorizationView,\n          cameraType = _this$props.cameraType,\n          cameraTimeoutView = _this$props.cameraTimeoutView;\n\n      if (!this.state.isCameraActivated) {\n        return React.createElement(TouchableWithoutFeedback, {\n          onPress: function onPress() {\n            return _this5._setCamera(true);\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 11\n          }\n        }, cameraTimeoutView);\n      }\n\n      var _this$state = this.state,\n          isAuthorized = _this$state.isAuthorized,\n          isAuthorizationChecked = _this$state.isAuthorizationChecked;\n\n      if (isAuthorized) {\n        if (this.props.cameraTimeout > 0) {\n          this.timer && clearTimeout(this.timer);\n          this.timer = setTimeout(function () {\n            return _this5._setCamera(false);\n          }, this.props.cameraTimeout);\n        }\n\n        if (this.props.fadeIn) {\n          return React.createElement(Animated.View, {\n            style: {\n              opacity: this.state.fadeInOpacity,\n              backgroundColor: 'transparent',\n              height: this.props.cameraStyle && this.props.cameraStyle.height || styles.camera.height\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 6\n            }\n          }, this._renderCameraComponent());\n        }\n\n        return this._renderCameraComponent();\n      } else if (!isAuthorizationChecked) {\n        return pendingAuthorizationView;\n      } else {\n        return notAuthorizedView;\n      }\n    }\n  }, {\n    key: \"reactivate\",\n    value: function reactivate() {\n      this._setScanning(false);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(View, {\n        style: [styles.mainContainer, this.props.containerStyle],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 4\n        }\n      }, React.createElement(View, {\n        style: [styles.infoView, this.props.topViewStyle],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 5\n        }\n      }, this._renderTopContent()), React.createElement(View, {\n        style: this.props.cameraStyle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 5\n        }\n      }, this._renderCamera()), React.createElement(View, {\n        style: [styles.infoView, this.props.bottomViewStyle],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 5\n        }\n      }, this._renderBottomContent()));\n    }\n  }]);\n\n  return QRCodeScanner;\n}(Component);\n\nQRCodeScanner.propTypes = {\n  onRead: PropTypes.func.isRequired,\n  vibrate: PropTypes.bool,\n  reactivate: PropTypes.bool,\n  reactivateTimeout: PropTypes.number,\n  cameraTimeout: PropTypes.number,\n  fadeIn: PropTypes.bool,\n  showMarker: PropTypes.bool,\n  cameraType: PropTypes.oneOf(['front', 'back']),\n  customMarker: PropTypes.element,\n  containerStyle: PropTypes.any,\n  cameraStyle: PropTypes.any,\n  markerStyle: PropTypes.any,\n  topViewStyle: PropTypes.any,\n  bottomViewStyle: PropTypes.any,\n  topContent: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\n  bottomContent: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\n  notAuthorizedView: PropTypes.element,\n  permissionDialogTitle: PropTypes.string,\n  permissionDialogMessage: PropTypes.string,\n  buttonPositive: PropTypes.string,\n  checkAndroid6Permissions: PropTypes.bool,\n  flashMode: PropTypes.oneOf(CAMERA_FLASH_MODES),\n  cameraProps: PropTypes.object,\n  cameraTimeoutView: PropTypes.element\n};\nQRCodeScanner.defaultProps = {\n  onRead: function onRead() {\n    return console.log('QR code scanned!');\n  },\n  reactivate: false,\n  vibrate: true,\n  reactivateTimeout: 0,\n  cameraTimeout: 0,\n  fadeIn: true,\n  showMarker: false,\n  cameraType: 'back',\n  notAuthorizedView: React.createElement(View, {\n    style: {\n      flex: 1,\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    __self: QRCodeScanner,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 4\n    }\n  }, React.createElement(Text, {\n    style: {\n      textAlign: 'center',\n      fontSize: 16\n    },\n    __self: QRCodeScanner,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }, \"Camera not authorized\")),\n  pendingAuthorizationView: React.createElement(View, {\n    style: {\n      flex: 1,\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    __self: QRCodeScanner,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 4\n    }\n  }, React.createElement(Text, {\n    style: {\n      textAlign: 'center',\n      fontSize: 16\n    },\n    __self: QRCodeScanner,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }\n  }, \"...\")),\n  permissionDialogTitle: 'Info',\n  permissionDialogMessage: 'Need camera permission',\n  buttonPositive: 'OK',\n  checkAndroid6Permissions: false,\n  flashMode: CAMERA_FLASH_MODE.auto,\n  cameraProps: {},\n  cameraTimeoutView: React.createElement(View, {\n    style: {\n      flex: 0,\n      alignItems: 'center',\n      justifyContent: 'center',\n      height: Dimensions.get('window').height,\n      width: Dimensions.get('window').width,\n      backgroundColor: 'black'\n    },\n    __self: QRCodeScanner,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 4\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: 'white'\n    },\n    __self: QRCodeScanner,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 5\n    }\n  }, \"Tap to activate camera\"))\n};\nexport { QRCodeScanner as default };\nvar styles = StyleSheet.create({\n  mainContainer: {\n    flex: 1\n  },\n  infoView: {\n    flex: 2,\n    justifyContent: 'center',\n    alignItems: 'center',\n    width: Dimensions.get('window').width\n  },\n  camera: {\n    flex: 0,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: 'transparent',\n    height: Dimensions.get('window').height,\n    width: Dimensions.get('window').width\n  },\n  rectangleContainer: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: 'transparent'\n  },\n  rectangle: {\n    height: 250,\n    width: 250,\n    borderWidth: 2,\n    borderColor: '#00FF00',\n    backgroundColor: 'transparent'\n  }\n});","map":{"version":3,"sources":["C:/Users/fong/Desktop/code-18122020-combined/node_modules/react-native-qrcode-scanner/index.js"],"names":["React","Component","PropTypes","request","PERMISSIONS","RESULTS","RNCamera","Camera","CAMERA_FLASH_MODE","Constants","FlashMode","CAMERA_FLASH_MODES","torch","on","off","auto","QRCodeScanner","props","state","scanning","isCameraActivated","fadeInOpacity","Animated","Value","isAuthorized","isAuthorizationChecked","disableVibrationByUser","_scannerTimeout","_handleBarCodeRead","bind","Platform","OS","IOS","CAMERA","then","cameraStatus","setState","GRANTED","checkAndroid6Permissions","PermissionsAndroid","title","permissionDialogTitle","message","permissionDialogMessage","buttonPositive","granted","fadeIn","sequence","delay","timing","toValue","easing","Easing","inOut","quad","useNativeDriver","start","clearTimeout","value","e","vibrate","Vibration","_setScanning","onRead","reactivate","setTimeout","reactivateTimeout","topContent","bottomContent","showMarker","customMarker","styles","rectangleContainer","rectangle","markerStyle","camera","cameraStyle","cameraType","flashMode","cameraProps","_renderCameraMarker","notAuthorizedView","pendingAuthorizationView","cameraTimeoutView","_setCamera","cameraTimeout","timer","opacity","backgroundColor","height","_renderCameraComponent","mainContainer","containerStyle","infoView","topViewStyle","_renderTopContent","_renderCamera","bottomViewStyle","_renderBottomContent","propTypes","func","isRequired","bool","number","oneOf","element","any","oneOfType","string","object","defaultProps","console","log","flex","alignItems","justifyContent","textAlign","fontSize","Dimensions","get","width","color","StyleSheet","create","borderWidth","borderColor"],"mappings":"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","sourcesContent":["'use strict';\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { StyleSheet, Dimensions, Vibration, Animated, Easing, View, Text, Platform, TouchableWithoutFeedback, PermissionsAndroid } from 'react-native';\n\nimport { request, PERMISSIONS, RESULTS } from 'react-native-permissions';\nimport { RNCamera as Camera } from 'react-native-camera';\n\nconst CAMERA_FLASH_MODE = Camera.Constants.FlashMode;\nconst CAMERA_FLASH_MODES = [CAMERA_FLASH_MODE.torch, CAMERA_FLASH_MODE.on, CAMERA_FLASH_MODE.off, CAMERA_FLASH_MODE.auto];\n\nexport default class QRCodeScanner extends Component {\n\tstatic propTypes = {\n\t\tonRead: PropTypes.func.isRequired,\n\t\tvibrate: PropTypes.bool,\n\t\treactivate: PropTypes.bool,\n\t\treactivateTimeout: PropTypes.number,\n\t\tcameraTimeout: PropTypes.number,\n\t\tfadeIn: PropTypes.bool,\n\t\tshowMarker: PropTypes.bool,\n\t\tcameraType: PropTypes.oneOf(['front', 'back']),\n\t\tcustomMarker: PropTypes.element,\n\t\tcontainerStyle: PropTypes.any,\n\t\tcameraStyle: PropTypes.any,\n\t\tmarkerStyle: PropTypes.any,\n\t\ttopViewStyle: PropTypes.any,\n\t\tbottomViewStyle: PropTypes.any,\n\t\ttopContent: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\n\t\tbottomContent: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\n\t\tnotAuthorizedView: PropTypes.element,\n\t\tpermissionDialogTitle: PropTypes.string,\n\t\tpermissionDialogMessage: PropTypes.string,\n\t\tbuttonPositive: PropTypes.string,\n\t\tcheckAndroid6Permissions: PropTypes.bool,\n\t\tflashMode: PropTypes.oneOf(CAMERA_FLASH_MODES),\n\t\tcameraProps: PropTypes.object,\n\t\tcameraTimeoutView: PropTypes.element,\n\t};\n\n\tstatic defaultProps = {\n\t\tonRead: () => console.log('QR code scanned!'),\n\t\treactivate: false,\n\t\tvibrate: true,\n\t\treactivateTimeout: 0,\n\t\tcameraTimeout: 0,\n\t\tfadeIn: true,\n\t\tshowMarker: false,\n\t\tcameraType: 'back',\n\t\tnotAuthorizedView: (\n\t\t\t<View\n\t\t\t\tstyle={{\n\t\t\t\t\tflex: 1,\n\t\t\t\t\talignItems: 'center',\n\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Text\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\tfontSize: 16,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tCamera not authorized\n\t\t\t\t</Text>\n\t\t\t</View>\n\t\t),\n\t\tpendingAuthorizationView: (\n\t\t\t<View\n\t\t\t\tstyle={{\n\t\t\t\t\tflex: 1,\n\t\t\t\t\talignItems: 'center',\n\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Text\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\tfontSize: 16,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t...\n\t\t\t\t</Text>\n\t\t\t</View>\n\t\t),\n\t\tpermissionDialogTitle: 'Info',\n\t\tpermissionDialogMessage: 'Need camera permission',\n\t\tbuttonPositive: 'OK',\n\t\tcheckAndroid6Permissions: false,\n\t\tflashMode: CAMERA_FLASH_MODE.auto,\n\t\tcameraProps: {},\n\t\tcameraTimeoutView: (\n\t\t\t<View\n\t\t\t\tstyle={{\n\t\t\t\t\tflex: 0,\n\t\t\t\t\talignItems: 'center',\n\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\theight: Dimensions.get('window').height,\n\t\t\t\t\twidth: Dimensions.get('window').width,\n\t\t\t\t\tbackgroundColor: 'black',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Text style={{ color: 'white' }}>Tap to activate camera</Text>\n\t\t\t</View>\n\t\t),\n\t};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tscanning: false,\n\t\t\tisCameraActivated: true,\n\t\t\tfadeInOpacity: new Animated.Value(0),\n\t\t\tisAuthorized: false,\n\t\t\tisAuthorizationChecked: false,\n\t\t\tdisableVibrationByUser: false,\n\t\t};\n\n\t\tthis._scannerTimeout = null;\n\t\tthis._handleBarCodeRead = this._handleBarCodeRead.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tif (Platform.OS === 'ios') {\n\t\t\trequest(PERMISSIONS.IOS.CAMERA).then(cameraStatus => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tisAuthorized: cameraStatus === RESULTS.GRANTED,\n\t\t\t\t\tisAuthorizationChecked: true,\n\t\t\t\t});\n\t\t\t});\n\t\t} else if (Platform.OS === 'android' && this.props.checkAndroid6Permissions) {\n\t\t\tPermissionsAndroid.request(PermissionsAndroid.PERMISSIONS.CAMERA, {\n\t\t\t\ttitle: this.props.permissionDialogTitle,\n\t\t\t\tmessage: this.props.permissionDialogMessage,\n\t\t\t\tbuttonPositive: this.props.buttonPositive,\n\t\t\t}).then(granted => {\n\t\t\t\tconst isAuthorized = granted === PermissionsAndroid.RESULTS.GRANTED;\n\n\t\t\t\tthis.setState({ isAuthorized, isAuthorizationChecked: true });\n\t\t\t});\n\t\t} else {\n\t\t\tthis.setState({ isAuthorized: true, isAuthorizationChecked: true });\n\t\t}\n\n\t\tif (this.props.fadeIn) {\n\t\t\tAnimated.sequence([\n\t\t\t\tAnimated.delay(1000),\n\t\t\t\tAnimated.timing(this.state.fadeInOpacity, {\n\t\t\t\t\ttoValue: 1,\n\t\t\t\t\teasing: Easing.inOut(Easing.quad),\n\t\t\t\t\tuseNativeDriver: true,\n\t\t\t\t}),\n\t\t\t]).start();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tif (this._scannerTimeout !== null) {\n\t\t\tclearTimeout(this._scannerTimeout);\n\t\t}\n\t\tthis._scannerTimeout = null;\n\t}\n\n\tdisable() {\n\t\tthis.setState({ disableVibrationByUser: true });\n\t}\n\tenable() {\n\t\tthis.setState({ disableVibrationByUser: false });\n\t}\n\n\t_setScanning(value) {\n\t\tthis.setState({ scanning: value });\n\t}\n\n\t_setCamera(value) {\n\t\tthis.setState(\n\t\t\t{\n\t\t\t\tisCameraActivated: value,\n\t\t\t\tscanning: false,\n\t\t\t\tfadeInOpacity: new Animated.Value(0),\n\t\t\t},\n\t\t\t() => {\n\t\t\t\tif (value && this.props.fadeIn) {\n\t\t\t\t\tif (this.props.fadeIn) {\n\t\t\t\t\t\tAnimated.sequence([\n\t\t\t\t\t\t\tAnimated.delay(10),\n\t\t\t\t\t\t\tAnimated.timing(this.state.fadeInOpacity, {\n\t\t\t\t\t\t\t\ttoValue: 1,\n\t\t\t\t\t\t\t\teasing: Easing.inOut(Easing.quad),\n\t\t\t\t\t\t\t\tuseNativeDriver: true,\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t]).start();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\t_handleBarCodeRead(e) {\n\t\tif (!this.state.scanning && !this.state.disableVibrationByUser) {\n\t\t\tif (this.props.vibrate) {\n\t\t\t\tVibration.vibrate();\n\t\t\t}\n\t\t\tthis._setScanning(true);\n\t\t\tthis.props.onRead(e);\n\t\t\tif (this.props.reactivate) {\n\t\t\t\tthis._scannerTimeout = setTimeout(() => this._setScanning(false), this.props.reactivateTimeout);\n\t\t\t}\n\t\t}\n\t}\n\n\t_renderTopContent() {\n\t\tif (this.props.topContent) {\n\t\t\treturn this.props.topContent;\n\t\t}\n\t\treturn null;\n\t}\n\n\t_renderBottomContent() {\n\t\tif (this.props.bottomContent) {\n\t\t\treturn this.props.bottomContent;\n\t\t}\n\t\treturn null;\n\t}\n\n\t_renderCameraMarker() {\n\t\tif (this.props.showMarker) {\n\t\t\tif (this.props.customMarker) {\n\t\t\t\treturn this.props.customMarker;\n\t\t\t} else {\n\t\t\t\treturn (\n\t\t\t\t\t<View style={styles.rectangleContainer}>\n\t\t\t\t\t\t<View style={[styles.rectangle, this.props.markerStyle ? this.props.markerStyle : null]} />\n\t\t\t\t\t</View>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\t_renderCameraComponent() {\n\t\treturn (\n\t\t\t<Camera\n\t\t\t\tandroidCameraPermissionOptions={{\n\t\t\t\t\ttitle: this.props.permissionDialogTitle,\n\t\t\t\t\tmessage: this.props.permissionDialogMessage,\n\t\t\t\t\tbuttonPositive: this.props.buttonPositive,\n\t\t\t\t}}\n\t\t\t\tstyle={[styles.camera, this.props.cameraStyle]}\n\t\t\t\tonBarCodeRead={this._handleBarCodeRead.bind(this)}\n\t\t\t\ttype={this.props.cameraType}\n\t\t\t\tflashMode={this.props.flashMode}\n\t\t\t\tcaptureAudio={false}\n\t\t\t\t{...this.props.cameraProps}\n\t\t\t>\n\t\t\t\t{this._renderCameraMarker()}\n\t\t\t</Camera>\n\t\t);\n\t}\n\n\t_renderCamera() {\n\t\tconst { notAuthorizedView, pendingAuthorizationView, cameraType, cameraTimeoutView } = this.props;\n\n\t\tif (!this.state.isCameraActivated) {\n\t\t\treturn <TouchableWithoutFeedback onPress={() => this._setCamera(true)}>{cameraTimeoutView}</TouchableWithoutFeedback>;\n\t\t}\n\n\t\tconst { isAuthorized, isAuthorizationChecked } = this.state;\n\t\tif (isAuthorized) {\n\t\t\tif (this.props.cameraTimeout > 0) {\n\t\t\t\tthis.timer && clearTimeout(this.timer);\n\t\t\t\tthis.timer = setTimeout(() => this._setCamera(false), this.props.cameraTimeout);\n      \t\t}\n\n\n\t\t\tif (this.props.fadeIn) {\n\t\t\t\treturn (\n\t\t\t\t\t<Animated.View\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\topacity: this.state.fadeInOpacity,\n\t\t\t\t\t\t\tbackgroundColor: 'transparent',\n\t\t\t\t\t\t\theight:  (this.props.cameraStyle && this.props.cameraStyle.height) || styles.camera.height,\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{this._renderCameraComponent()}\n\t\t\t\t\t</Animated.View>\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn this._renderCameraComponent();\n\t\t} else if (!isAuthorizationChecked) {\n\t\t\treturn pendingAuthorizationView;\n\t\t} else {\n\t\t\treturn notAuthorizedView;\n\t\t}\n\t}\n\n\treactivate() {\n\t\tthis._setScanning(false);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<View style={[styles.mainContainer, this.props.containerStyle]}>\n\t\t\t\t<View style={[styles.infoView, this.props.topViewStyle]}>{this._renderTopContent()}</View>\n\t\t\t\t<View style={this.props.cameraStyle}>\n\t\t\t\t\t{this._renderCamera()}\n\t\t\t\t</View>\n\t\t\t\t<View style={[styles.infoView, this.props.bottomViewStyle]}>{this._renderBottomContent()}</View>\n\t\t\t</View>\n\t\t);\n\t}\n}\n\nconst styles = StyleSheet.create({\n\tmainContainer: {\n\t\tflex: 1,\n\t},\n\tinfoView: {\n\t\tflex: 2,\n\t\tjustifyContent: 'center',\n\t\talignItems: 'center',\n\t\twidth: Dimensions.get('window').width,\n\t},\n\n\tcamera: {\n\t\tflex: 0,\n\t\talignItems: 'center',\n\t\tjustifyContent: 'center',\n\t\tbackgroundColor: 'transparent',\n\t\theight: Dimensions.get('window').height,\n\t\twidth: Dimensions.get('window').width,\n\t},\n\n\trectangleContainer: {\n\t\tflex: 1,\n\t\talignItems: 'center',\n\t\tjustifyContent: 'center',\n\t\tbackgroundColor: 'transparent',\n\t},\n\n\trectangle: {\n\t\theight: 250,\n\t\twidth: 250,\n\t\tborderWidth: 2,\n\t\tborderColor: '#00FF00',\n\t\tbackgroundColor: 'transparent',\n\t},\n});"]},"metadata":{},"sourceType":"module"}