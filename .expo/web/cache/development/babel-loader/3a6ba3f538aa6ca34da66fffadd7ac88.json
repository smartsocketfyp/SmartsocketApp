{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport NativeModules from \"react-native-web/dist/exports/NativeModules\";\nimport APPS from \"../../utils/apps\";\nimport { SharedEventEmitter } from \"../../utils/events\";\nimport INTERNALS from \"../../utils/internals\";\nimport { isObject } from \"../../utils\";\nimport AdMob, { NAMESPACE as AdmobNamespace } from \"../admob\";\nimport Auth, { NAMESPACE as AuthNamespace } from \"../auth\";\nimport Analytics, { NAMESPACE as AnalyticsNamespace } from \"../analytics\";\nimport Config, { NAMESPACE as ConfigNamespace } from \"../config\";\nimport Crashlytics, { NAMESPACE as CrashlyticsNamespace } from \"../crashlytics\";\nimport Database, { NAMESPACE as DatabaseNamespace } from \"../database\";\nimport Firestore, { NAMESPACE as FirestoreNamespace } from \"../firestore\";\nimport Functions, { NAMESPACE as FunctionsNamespace } from \"../functions\";\nimport InstanceId, { NAMESPACE as InstanceIdNamespace } from \"../iid\";\nimport Links, { NAMESPACE as LinksNamespace } from \"../links\";\nimport Messaging, { NAMESPACE as MessagingNamespace } from \"../messaging\";\nimport Notifications, { NAMESPACE as NotificationsNamespace } from \"../notifications\";\nimport Performance, { NAMESPACE as PerfNamespace } from \"../perf\";\nimport Storage, { NAMESPACE as StorageNamespace } from \"../storage\";\nimport Utils, { NAMESPACE as UtilsNamespace } from \"../utils\";\nvar FirebaseCoreModule = NativeModules.RNFirebase;\n\nvar App = function () {\n  function App(name, options) {\n    var _this = this;\n\n    var fromNative = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    _classCallCheck(this, App);\n\n    this._initialized = false;\n    this._nativeInitialized = false;\n    this._name = name;\n    this._options = _extends({}, options);\n\n    if (fromNative) {\n      this._initialized = true;\n      this._nativeInitialized = true;\n    } else if (options.databaseURL && options.apiKey) {\n      FirebaseCoreModule.initializeApp(this._name, this._options, function (error, result) {\n        _this._initialized = true;\n        SharedEventEmitter.emit(\"AppReady:\" + _this._name, {\n          error: error,\n          result: result\n        });\n      });\n    }\n\n    this.admob = APPS.appModule(this, AdmobNamespace, AdMob);\n    this.analytics = APPS.appModule(this, AnalyticsNamespace, Analytics);\n    this.auth = APPS.appModule(this, AuthNamespace, Auth);\n    this.config = APPS.appModule(this, ConfigNamespace, Config);\n    this.crashlytics = APPS.appModule(this, CrashlyticsNamespace, Crashlytics);\n    this.database = APPS.appModule(this, DatabaseNamespace, Database);\n    this.firestore = APPS.appModule(this, FirestoreNamespace, Firestore);\n    this.functions = APPS.appModule(this, FunctionsNamespace, Functions);\n    this.iid = APPS.appModule(this, InstanceIdNamespace, InstanceId);\n    this.links = APPS.appModule(this, LinksNamespace, Links);\n    this.messaging = APPS.appModule(this, MessagingNamespace, Messaging);\n    this.notifications = APPS.appModule(this, NotificationsNamespace, Notifications);\n    this.perf = APPS.appModule(this, PerfNamespace, Performance);\n    this.storage = APPS.appModule(this, StorageNamespace, Storage);\n    this.utils = APPS.appModule(this, UtilsNamespace, Utils);\n    this._extendedProps = {};\n  }\n\n  _createClass(App, [{\n    key: \"extendApp\",\n    value: function extendApp(props) {\n      if (!isObject(props)) {\n        throw new Error(INTERNALS.STRINGS.ERROR_MISSING_ARG('Object', 'extendApp'));\n      }\n\n      var keys = Object.keys(props);\n\n      for (var i = 0, len = keys.length; i < len; i++) {\n        var key = keys[i];\n\n        if (!this._extendedProps[key] && Object.hasOwnProperty.call(this, key)) {\n          throw new Error(INTERNALS.STRINGS.ERROR_PROTECTED_PROP(key));\n        }\n\n        this[key] = props[key];\n        this._extendedProps[key] = true;\n      }\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete() {\n      var _this2 = this;\n\n      if (this._name === APPS.DEFAULT_APP_NAME && this._nativeInitialized) {\n        return Promise.reject(new Error('Unable to delete the default native firebase app instance.'));\n      }\n\n      return FirebaseCoreModule.deleteApp(this._name).then(function () {\n        return APPS.deleteApp(_this2._name);\n      });\n    }\n  }, {\n    key: \"onReady\",\n    value: function onReady() {\n      var _this3 = this;\n\n      if (this._initialized) return Promise.resolve(this);\n      return new Promise(function (resolve, reject) {\n        SharedEventEmitter.once(\"AppReady:\" + _this3._name, function (_ref) {\n          var error = _ref.error;\n          if (error) return reject(new Error(error));\n          return resolve(_this3);\n        });\n      });\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      return this._name;\n    }\n  }, {\n    key: \"name\",\n    get: function get() {\n      return this._name;\n    }\n  }, {\n    key: \"options\",\n    get: function get() {\n      return _extends({}, this._options);\n    }\n  }]);\n\n  return App;\n}();\n\nexport { App as default };","map":{"version":3,"sources":["C:/Users/fong/Desktop/code-18122020-combined/node_modules/react-native-firebase/dist/modules/core/app.js"],"names":["APPS","SharedEventEmitter","INTERNALS","isObject","AdMob","NAMESPACE","AdmobNamespace","Auth","AuthNamespace","Analytics","AnalyticsNamespace","Config","ConfigNamespace","Crashlytics","CrashlyticsNamespace","Database","DatabaseNamespace","Firestore","FirestoreNamespace","Functions","FunctionsNamespace","InstanceId","InstanceIdNamespace","Links","LinksNamespace","Messaging","MessagingNamespace","Notifications","NotificationsNamespace","Performance","PerfNamespace","Storage","StorageNamespace","Utils","UtilsNamespace","FirebaseCoreModule","NativeModules","RNFirebase","App","name","options","fromNative","_initialized","_nativeInitialized","_name","_options","databaseURL","apiKey","initializeApp","error","result","emit","admob","appModule","analytics","auth","config","crashlytics","database","firestore","functions","iid","links","messaging","notifications","perf","storage","utils","_extendedProps","props","Error","STRINGS","ERROR_MISSING_ARG","keys","Object","i","len","length","key","hasOwnProperty","call","ERROR_PROTECTED_PROP","DEFAULT_APP_NAME","Promise","reject","deleteApp","then","resolve","once"],"mappings":"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","sourcesContent":["import { NativeModules } from 'react-native';\nimport APPS from '../../utils/apps';\nimport { SharedEventEmitter } from '../../utils/events';\nimport INTERNALS from '../../utils/internals';\nimport { isObject } from '../../utils';\nimport AdMob, { NAMESPACE as AdmobNamespace } from '../admob';\nimport Auth, { NAMESPACE as AuthNamespace } from '../auth';\nimport Analytics, { NAMESPACE as AnalyticsNamespace } from '../analytics';\nimport Config, { NAMESPACE as ConfigNamespace } from '../config';\nimport Crashlytics, { NAMESPACE as CrashlyticsNamespace } from '../crashlytics';\nimport Database, { NAMESPACE as DatabaseNamespace } from '../database';\nimport Firestore, { NAMESPACE as FirestoreNamespace } from '../firestore';\nimport Functions, { NAMESPACE as FunctionsNamespace } from '../functions';\nimport InstanceId, { NAMESPACE as InstanceIdNamespace } from '../iid';\nimport Links, { NAMESPACE as LinksNamespace } from '../links';\nimport Messaging, { NAMESPACE as MessagingNamespace } from '../messaging';\nimport Notifications, { NAMESPACE as NotificationsNamespace } from '../notifications';\nimport Performance, { NAMESPACE as PerfNamespace } from '../perf';\nimport Storage, { NAMESPACE as StorageNamespace } from '../storage';\nimport Utils, { NAMESPACE as UtilsNamespace } from '../utils';\nconst FirebaseCoreModule = NativeModules.RNFirebase;\nexport default class App {\n  _initialized = false;\n  _nativeInitialized = false;\n\n  constructor(name, options, fromNative = false) {\n    this._name = name;\n    this._options = Object.assign({}, options);\n\n    if (fromNative) {\n      this._initialized = true;\n      this._nativeInitialized = true;\n    } else if (options.databaseURL && options.apiKey) {\n      FirebaseCoreModule.initializeApp(this._name, this._options, (error, result) => {\n        this._initialized = true;\n        SharedEventEmitter.emit(`AppReady:${this._name}`, {\n          error,\n          result\n        });\n      });\n    } // modules\n\n\n    this.admob = APPS.appModule(this, AdmobNamespace, AdMob);\n    this.analytics = APPS.appModule(this, AnalyticsNamespace, Analytics);\n    this.auth = APPS.appModule(this, AuthNamespace, Auth);\n    this.config = APPS.appModule(this, ConfigNamespace, Config);\n    this.crashlytics = APPS.appModule(this, CrashlyticsNamespace, Crashlytics);\n    this.database = APPS.appModule(this, DatabaseNamespace, Database);\n    this.firestore = APPS.appModule(this, FirestoreNamespace, Firestore);\n    this.functions = APPS.appModule(this, FunctionsNamespace, Functions);\n    this.iid = APPS.appModule(this, InstanceIdNamespace, InstanceId);\n    this.links = APPS.appModule(this, LinksNamespace, Links);\n    this.messaging = APPS.appModule(this, MessagingNamespace, Messaging);\n    this.notifications = APPS.appModule(this, NotificationsNamespace, Notifications);\n    this.perf = APPS.appModule(this, PerfNamespace, Performance);\n    this.storage = APPS.appModule(this, StorageNamespace, Storage);\n    this.utils = APPS.appModule(this, UtilsNamespace, Utils);\n    this._extendedProps = {};\n  }\n  /**\n   *\n   * @return {*}\n   */\n\n\n  get name() {\n    return this._name;\n  }\n  /**\n   *\n   * @return {*}\n   */\n\n\n  get options() {\n    return Object.assign({}, this._options);\n  }\n  /**\n   * Undocumented firebase web sdk method that allows adding additional properties onto\n   * a firebase app instance.\n   *\n   * See: https://github.com/firebase/firebase-js-sdk/blob/master/tests/app/firebase_app.test.ts#L328\n   *\n   * @param props\n   */\n\n\n  extendApp(props) {\n    if (!isObject(props)) {\n      throw new Error(INTERNALS.STRINGS.ERROR_MISSING_ARG('Object', 'extendApp'));\n    }\n\n    const keys = Object.keys(props);\n\n    for (let i = 0, len = keys.length; i < len; i++) {\n      const key = keys[i];\n\n      if (!this._extendedProps[key] && Object.hasOwnProperty.call(this, key)) {\n        throw new Error(INTERNALS.STRINGS.ERROR_PROTECTED_PROP(key));\n      } // $FlowExpectedError: Flow doesn't support indexable signatures on classes: https://github.com/facebook/flow/issues/1323\n\n\n      this[key] = props[key];\n      this._extendedProps[key] = true;\n    }\n  }\n  /**\n   *\n   * @return {Promise}\n   */\n\n\n  delete() {\n    if (this._name === APPS.DEFAULT_APP_NAME && this._nativeInitialized) {\n      return Promise.reject(new Error('Unable to delete the default native firebase app instance.'));\n    }\n\n    return FirebaseCoreModule.deleteApp(this._name).then(() => APPS.deleteApp(this._name));\n  }\n  /**\n   *\n   * @return {*}\n   */\n\n\n  onReady() {\n    if (this._initialized) return Promise.resolve(this);\n    return new Promise((resolve, reject) => {\n      SharedEventEmitter.once(`AppReady:${this._name}`, ({\n        error\n      }) => {\n        if (error) return reject(new Error(error)); // error is a string as it's from native\n\n        return resolve(this); // return app\n      });\n    });\n  }\n  /**\n   * toString returns the name of the app.\n   *\n   * @return {string}\n   */\n\n\n  toString() {\n    return this._name;\n  }\n\n}"]},"metadata":{},"sourceType":"module"}