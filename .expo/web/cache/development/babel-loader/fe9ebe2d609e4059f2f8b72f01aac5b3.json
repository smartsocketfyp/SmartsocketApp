{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\fong\\\\Desktop\\\\Fong JY\\\\NUS\\\\Year 4 Semester 2\\\\EE4002D - Design Capstone\\\\Software Code\\\\code-18122020-combined\\\\Screens\\\\MainFunctionScreen.js\";\nimport * as React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport firebase from 'firebase/app';\nimport \"firebase/auth\";\nimport 'firebase/database';\n\nfunction MainFunctionScreen(_ref) {\n  var route = _ref.route,\n      navigation = _ref.navigation;\n  var data = route.params;\n\n  var handleSignOut = function handleSignOut() {\n    firebase.auth().signOut();\n  };\n\n  var readDataforTimer = function readDataforTimer(_ref2) {\n    var data = _ref2.data;\n    firebase.database().ref('/Socket ID/' + data.slice(17, 20)).once('value').then(function (snapshot) {\n      var SocketStatus = snapshot.val() && snapshot.val().SocketOn;\n\n      if (SocketStatus == true) {\n        navigation.push(\"Set Timer\", data);\n      } else if (SocketStatus == false) {\n        alert('Socket has already been switched off');\n      } else {\n        alert('Please wait a while');\n      }\n    });\n  };\n\n  return React.createElement(ScrollView, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: styles.Title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 17\n    }\n  }, \" Main Functions \"), React.createElement(Text, {\n    style: styles.Instructions,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 17\n    }\n  }, \" Control your Aily socket here. You are connected to Socket No. \", data.slice(17, 20), \" \"), React.createElement(TouchableOpacity, {\n    style: styles.Navigation_Buttons,\n    onPress: function onPress() {\n      return navigation.push(\"On Off\", data);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: styles.Button_Text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 21\n    }\n  }, \" Switch on/off socket \")), React.createElement(TouchableOpacity, {\n    style: styles.Navigation_Buttons,\n    onPress: function onPress() {\n      return readDataforTimer({\n        data: data\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: styles.Button_Text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 21\n    }\n  }, \" Switch on/off socket via schedule \")), React.createElement(TouchableOpacity, {\n    style: styles.Navigation_Buttons,\n    onPress: function onPress() {\n      return navigation.push(\"Power Usage\", data);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: styles.Button_Text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 21\n    }\n  }, \" Check Power Consumption Here \")), React.createElement(TouchableOpacity, {\n    style: styles.Navigation_Buttons,\n    onPress: function onPress() {\n      return navigation.navigate(\"Past Usage\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: styles.Button_Text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  }, \" Past Usage of Aily Sockets \")), React.createElement(TouchableOpacity, {\n    style: styles.Log_Out_Buttons,\n    onPress: function onPress() {\n      return handleSignOut() > navigation.navigate(\"Home\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: styles.Button_Text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }\n  }, \" Log Out \"))));\n}\n\nvar styles = StyleSheet.create({\n  Title: {\n    textAlign: 'center',\n    marginLeft: 50,\n    marginRight: 50,\n    marginTop: 50,\n    marginBottom: 0,\n    color: \"#000\",\n    fontWeight: \"bold\",\n    fontSize: 25\n  },\n  Instructions: {\n    textAlign: 'center',\n    marginLeft: 50,\n    marginRight: 50,\n    marginTop: 0,\n    marginBottom: 50,\n    color: \"#000\",\n    fontWeight: \"300\",\n    fontSize: 15\n  },\n  container: {\n    height: 600,\n    width: 375,\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-evenly',\n    backgroundColor: '#fff',\n    flexWrap: 'wrap'\n  },\n  Navigation_Buttons: {\n    backgroundColor: '#000080',\n    borderRadius: 4,\n    height: 125,\n    width: 125,\n    marginLeft: 5,\n    marginRight: 5,\n    marginTop: 15,\n    marginBottom: 15,\n    alignItems: 'center',\n    alignSelf: 'flex-start',\n    justifyContent: 'center'\n  },\n  Log_Out_Buttons: {\n    backgroundColor: '#000080',\n    borderRadius: 4,\n    height: 50,\n    width: 250,\n    marginLeft: 15,\n    marginRight: 15,\n    marginTop: 50,\n    marginBottom: 1,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  Button_Text: {\n    textAlign: 'center',\n    color: \"#FFF\",\n    fontWeight: \"600\"\n  }\n});\nexport default MainFunctionScreen;","map":{"version":3,"sources":["C:/Users/fong/Desktop/Fong JY/NUS/Year 4 Semester 2/EE4002D - Design Capstone/Software Code/code-18122020-combined/Screens/MainFunctionScreen.js"],"names":["React","firebase","MainFunctionScreen","route","navigation","data","params","handleSignOut","auth","signOut","readDataforTimer","database","ref","slice","once","then","snapshot","SocketStatus","val","SocketOn","push","alert","styles","container","Title","Instructions","Navigation_Buttons","Button_Text","navigate","Log_Out_Buttons","StyleSheet","create","textAlign","marginLeft","marginRight","marginTop","marginBottom","color","fontWeight","fontSize","height","width","flex","flexDirection","alignItems","justifyContent","backgroundColor","flexWrap","borderRadius","alignSelf"],"mappings":"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","sourcesContent":["import * as React from 'react';\r\nimport { View, Text, TouchableOpacity, ScrollView, StyleSheet} from 'react-native';\r\nimport firebase from 'firebase/app';\r\nimport \"firebase/auth\";\r\nimport 'firebase/database';\r\n\r\n\r\nfunction MainFunctionScreen( {route, navigation} ) {\r\n    let data = route.params;\r\n    \r\n    const handleSignOut = () => {\r\n        firebase.auth().signOut()\r\n    };\r\n\r\n    const readDataforTimer = ({data}) => {\r\n        firebase.database().ref('/Socket ID/' + data.slice(17,20)).once('value').then((snapshot) => {\r\n        var SocketStatus = (snapshot.val() && snapshot.val().SocketOn) ;\r\n        \r\n        if(SocketStatus == true){\r\n            navigation.push(\"Set Timer\", data);\r\n        }\r\n        else if(SocketStatus == false){\r\n            alert('Socket has already been switched off');\r\n        }\r\n\r\n        else {\r\n            alert('Please wait a while');\r\n        }\r\n        })        \r\n    };\r\n    \r\n    return (\r\n        <ScrollView>\r\n            <View style={styles.container}>\r\n                <Text style = {styles.Title}> Main Functions </Text>\r\n\r\n                <Text style = {styles.Instructions}> Control your Aily socket here. You are connected to Socket No. {data.slice(17,20)} </Text>\r\n\r\n                <TouchableOpacity\r\n                    style={styles.Navigation_Buttons}\r\n                    onPress={() => navigation.push(\"On Off\", data)}\r\n                >\r\n                    <Text style = {styles.Button_Text}> Switch on/off socket </Text>\r\n                </TouchableOpacity>   \r\n\r\n                <TouchableOpacity\r\n                    style={styles.Navigation_Buttons}\r\n                    onPress={() => readDataforTimer({data}) }\r\n                >\r\n                    <Text style = {styles.Button_Text}> Switch on/off socket via schedule </Text>\r\n                </TouchableOpacity>   \r\n\r\n                <TouchableOpacity\r\n                    style={styles.Navigation_Buttons}\r\n                    onPress={() => navigation.push(\"Power Usage\", data)}\r\n                >\r\n                    <Text style = {styles.Button_Text}> Check Power Consumption Here </Text>\r\n                </TouchableOpacity>   \r\n\r\n                <TouchableOpacity\r\n                    style={styles.Navigation_Buttons}\r\n                    onPress={() => navigation.navigate(\"Past Usage\")}\r\n                >\r\n                    <Text style = {styles.Button_Text}> Past Usage of Aily Sockets </Text>\r\n                </TouchableOpacity>   \r\n\r\n                <TouchableOpacity\r\n                    style={styles.Log_Out_Buttons}\r\n                    onPress={() => handleSignOut() > navigation.navigate(\"Home\")}\r\n                >\r\n                    <Text style = {styles.Button_Text}> Log Out </Text>\r\n                </TouchableOpacity>   \r\n\r\n            </View>\r\n        </ScrollView>\r\n      \r\n      \r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    Title: {\r\n        textAlign: 'center',\r\n        marginLeft: 50,\r\n        marginRight: 50,\r\n        marginTop: 50,\r\n        marginBottom: 0,\r\n        color: \"#000\", \r\n        fontWeight: \"bold\", \r\n        fontSize: 25\r\n    },\r\n\r\n    Instructions: {\r\n        textAlign: 'center',\r\n        marginLeft: 50,\r\n        marginRight: 50,\r\n        marginTop: 0,\r\n        marginBottom: 50,\r\n        color: \"#000\", \r\n        fontWeight: \"300\", \r\n        fontSize: 15\r\n    },\r\n\r\n    container: {\r\n        height: 600,\r\n        width : 375,\r\n        flex : 1,\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        justifyContent: 'space-evenly',\r\n        backgroundColor: '#fff',\r\n        flexWrap: 'wrap',\r\n    },\r\n\r\n    Navigation_Buttons: {\r\n        backgroundColor : '#000080',\r\n        borderRadius : 4,\r\n        height: 125,\r\n        width : 125,\r\n        marginLeft: 5,\r\n        marginRight: 5,\r\n        marginTop: 15,\r\n        marginBottom: 15,\r\n        alignItems: 'center',\r\n        alignSelf: 'flex-start',\r\n        justifyContent: 'center'\r\n    },\r\n\r\n    Log_Out_Buttons: {\r\n        backgroundColor : '#000080',\r\n        borderRadius : 4,\r\n        height: 50,\r\n        width : 250,\r\n        marginLeft: 15,\r\n        marginRight: 15,\r\n        marginTop: 50,\r\n        marginBottom: 1,\r\n        alignItems: 'center',\r\n        justifyContent: 'center'\r\n    },\r\n\r\n    Button_Text: {\r\n        textAlign: 'center',\r\n        color: \"#FFF\",\r\n        fontWeight: \"600\"\r\n    }\r\n});\r\n\r\nexport default MainFunctionScreen;"]},"metadata":{},"sourceType":"module"}