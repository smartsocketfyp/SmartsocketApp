{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\orange7332\\\\capstone\\\\code-18122020-combined\\\\Screens\\\\PowerUsageScreen.js\";\nimport * as React from 'react';\nimport { useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport firebase from 'firebase/app';\nimport \"firebase/auth\";\nimport 'firebase/database';\n\nfunction PowerUsageScreen(_ref) {\n  var route = _ref.route,\n      navigation = _ref.navigation;\n  var data = route.params;\n\n  var _React$useState = React.useState(''),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      PowerConsumed = _React$useState2[0],\n      setPowerConsumed = _React$useState2[1];\n\n  var _React$useState3 = React.useState(''),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      currenttime = _React$useState4[0],\n      setcurrenttime = _React$useState4[1];\n\n  useEffect(function () {\n    setInterval(function () {\n      return getDate() > readData({\n        data: data\n      });\n    }, 1000);\n  });\n\n  var readData = function readData(_ref2) {\n    var data = _ref2.data;\n    firebase.database().ref('/Socket ID/' + data.slice(17, 20)).once('value').then(function (snapshot) {\n      setPowerConsumed(snapshot.val() && snapshot.val().Power);\n    });\n  };\n\n  var getDate = function getDate() {\n    var now = new Date();\n    var time = new Date(now.getTime());\n    setcurrenttime(time + \"\");\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.Instructions,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }\n  }, \" \", 'Power Consumption of \\n', \" Socket No.\", data.slice(17, 20), \" (Watts) \"), React.createElement(Text, {\n    style: styles.Display,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }\n  }, \" \", PowerConsumed ? PowerConsumed : '0', \" \"), React.createElement(Text, {\n    style: styles.Instructions,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  }, \" \", 'Last updated at:\\n', currenttime, \" \"), React.createElement(TouchableOpacity, {\n    style: styles.Navigation_Button,\n    onPress: function onPress() {\n      return navigation.navigate('Main Function');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: styles.Button_Text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }\n  }, \" Return to Main Function \")));\n}\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#fff'\n  },\n  Instructions: {\n    textAlign: 'center',\n    marginLeft: 25,\n    marginRight: 25,\n    marginTop: 50,\n    marginBottom: 25,\n    color: \"#000\",\n    fontWeight: \"300\",\n    fontSize: 20\n  },\n  Display: {\n    textAlign: 'center',\n    marginLeft: 25,\n    marginRight: 25,\n    marginTop: 10,\n    marginBottom: 10,\n    color: \"#000\",\n    fontWeight: \"bold\",\n    fontSize: 40,\n    borderColor: 'gray',\n    borderWidth: 5,\n    height: 60,\n    width: 200,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  Navigation_Button: {\n    backgroundColor: '#000080',\n    borderRadius: 4,\n    height: 52,\n    width: 300,\n    marginTop: 25,\n    marginBottom: 250,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  Button_Text: {\n    color: \"#FFF\",\n    fontWeight: \"600\"\n  }\n});\nexport default PowerUsageScreen;","map":{"version":3,"sources":["C:/Users/orange7332/capstone/code-18122020-combined/Screens/PowerUsageScreen.js"],"names":["React","useEffect","firebase","PowerUsageScreen","route","navigation","data","params","useState","PowerConsumed","setPowerConsumed","currenttime","setcurrenttime","setInterval","getDate","readData","database","ref","slice","once","then","snapshot","val","Power","now","Date","time","getTime","styles","container","Instructions","Display","Navigation_Button","navigate","Button_Text","StyleSheet","create","flex","alignItems","justifyContent","backgroundColor","textAlign","marginLeft","marginRight","marginTop","marginBottom","color","fontWeight","fontSize","borderColor","borderWidth","height","width","borderRadius"],"mappings":"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","sourcesContent":["import * as React from 'react';\r\nimport {useEffect} from \"react\";\r\nimport { View, Text, TouchableOpacity, StyleSheet} from 'react-native';\r\nimport firebase from 'firebase/app';\r\nimport \"firebase/auth\";\r\nimport 'firebase/database';\r\n\r\nfunction PowerUsageScreen({ route, navigation }) {\r\n    let data = route.params;\r\n    const [PowerConsumed, setPowerConsumed] = React.useState('');\r\n    const [currenttime, setcurrenttime] = React.useState('');\r\n\r\n    useEffect(() => {\r\n        setInterval(() => (getDate() > readData({data})), 1000);\r\n    });\r\n\r\n    const readData = ({data}) => {\r\n        firebase.database().ref('/Socket ID/' + data.slice(17,20)).once('value').then((snapshot) => {\r\n        setPowerConsumed(snapshot.val() && snapshot.val().Power) ;\r\n        })\r\n    };\r\n\r\n    const getDate = () => {\r\n        var now = new Date();\r\n        var time = new Date(now.getTime());\r\n        setcurrenttime(time + \"\");\r\n    }\r\n\r\n    return (\r\n        <View style={styles.container}>\r\n            <Text style = {styles.Instructions}> {'Power Consumption of \\n'} Socket No.{data.slice(17,20)} (Watts) </Text>\r\n\r\n            <Text style = {styles.Display}> {(PowerConsumed)? PowerConsumed : '0'} </Text>\r\n\r\n            <Text style = {styles.Instructions}> {'Last updated at:\\n'}{currenttime} </Text>\r\n\r\n            <TouchableOpacity\r\n                style={styles.Navigation_Button}\r\n                onPress={() => navigation.navigate('Main Function')}\r\n            >\r\n                <Text style = {styles.Button_Text}> Return to Main Function </Text>\r\n            </TouchableOpacity>   \r\n          \r\n        </View>\r\n    );\r\n  }\r\n\r\n  const styles = StyleSheet.create({\r\n    container: {\r\n        flex : 1,\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        backgroundColor: '#fff',\r\n    },\r\n\r\n    Instructions: {\r\n        textAlign: 'center',\r\n        marginLeft: 25,\r\n        marginRight: 25,\r\n        marginTop: 50,\r\n        marginBottom: 25,\r\n        color: \"#000\", \r\n        fontWeight: \"300\", \r\n        fontSize: 20\r\n      },\r\n\r\n    Display: {\r\n        textAlign: 'center',\r\n        marginLeft: 25,\r\n        marginRight: 25,\r\n        marginTop: 10,\r\n        marginBottom: 10,\r\n        color: \"#000\", \r\n        fontWeight: \"bold\", \r\n        fontSize: 40,\r\n        borderColor: 'gray', \r\n        borderWidth: 5,\r\n        height: 60,\r\n        width: 200,\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n      },\r\n\r\n    Navigation_Button: {\r\n      backgroundColor : '#000080',\r\n      borderRadius : 4,\r\n      height: 52,\r\n      width : 300,\r\n      marginTop: 25,\r\n      marginBottom: 250,\r\n      alignItems: 'center',\r\n      justifyContent: 'center'\r\n    },\r\n\r\n    Button_Text: {\r\n        color: \"#FFF\",\r\n        fontWeight: \"600\"\r\n    }\r\n\r\n    // Power_Usage_Image: {\r\n    //     width: 1080,\r\n    //     height: 608,\r\n    //     marginTop: 50,\r\n    //     marginBottom: 50,\r\n    // },\r\n\r\n});\r\n\r\nexport default PowerUsageScreen;"]},"metadata":{},"sourceType":"module"}