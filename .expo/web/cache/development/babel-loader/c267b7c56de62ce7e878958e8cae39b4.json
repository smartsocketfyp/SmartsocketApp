{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\fong\\\\Desktop\\\\code-18122020-combined\\\\node_modules\\\\react-native-firebase\\\\dist\\\\modules\\\\admob\\\\AdMobComponent.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport { ViewPropTypes } from \"react-native-web/dist/index\";\nimport { requireNativeComponent } from \"react-native-web/dist/index\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport PropTypes from 'prop-types';\nimport EventTypes, { NativeExpressEventTypes } from \"./EventTypes\";\nimport { nativeToJSError } from \"../../utils\";\nimport AdRequest from \"./AdRequest\";\nimport VideoOptions from \"./VideoOptions\";\n\nvar adMobPropTypes = _objectSpread(_objectSpread({}, ViewPropTypes), {}, {\n  size: PropTypes.string.isRequired,\n  unitId: PropTypes.string.isRequired,\n  request: PropTypes.object,\n  video: PropTypes.object\n});\n\nObject.keys(EventTypes).forEach(function (eventType) {\n  adMobPropTypes[eventType] = PropTypes.func;\n});\nObject.keys(NativeExpressEventTypes).forEach(function (eventType) {\n  adMobPropTypes[eventType] = PropTypes.func;\n});\nvar nativeComponents = {};\n\nfunction getNativeComponent(name) {\n  if (nativeComponents[name]) return nativeComponents[name];\n  var component = requireNativeComponent(name, AdMobComponent, {\n    nativeOnly: {\n      onBannerEvent: true\n    }\n  });\n  nativeComponents[name] = component;\n  return component;\n}\n\nvar AdMobComponent = function (_React$Component) {\n  _inherits(AdMobComponent, _React$Component);\n\n  var _super = _createSuper(AdMobComponent);\n\n  function AdMobComponent(_props) {\n    var _this;\n\n    _classCallCheck(this, AdMobComponent);\n\n    _this = _super.call(this, _props);\n\n    _this.onBannerEvent = function (_ref) {\n      var nativeEvent = _ref.nativeEvent;\n\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          props = _assertThisInitialize.props;\n\n      if (props[nativeEvent.type]) {\n        if (nativeEvent.type === 'onAdFailedToLoad') {\n          var _nativeEvent$payload = nativeEvent.payload,\n              code = _nativeEvent$payload.code,\n              message = _nativeEvent$payload.message;\n          props[nativeEvent.type](nativeToJSError(code, message));\n        } else {\n          props[nativeEvent.type](nativeEvent.payload || {});\n        }\n      }\n\n      if (nativeEvent.type === 'onSizeChange') {\n        _this.updateSize(nativeEvent.payload);\n      }\n\n      if (nativeEvent.type === 'onAdLoaded' && Platform.OS === 'ios') {\n        _this.updateSize(nativeEvent.payload);\n      }\n    };\n\n    _this.updateSize = function (_ref2) {\n      var width = _ref2.width,\n          height = _ref2.height;\n\n      if (width !== undefined && height !== undefined) {\n        _this.setState({\n          width: width,\n          height: height\n        });\n      }\n    };\n\n    _this.state = {\n      width: 0,\n      height: 0\n    };\n    _this.nativeView = getNativeComponent(_props.class);\n    return _this;\n  }\n\n  _createClass(AdMobComponent, [{\n    key: \"render\",\n    value: function render() {\n      var style = this.props.style;\n      return React.createElement(this.nativeView, _extends({}, this.props, {\n        style: [style, _objectSpread({}, this.state)],\n        onBannerEvent: this.onBannerEvent,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 12\n        }\n      }));\n    }\n  }]);\n\n  return AdMobComponent;\n}(React.Component);\n\nAdMobComponent.propTypes = adMobPropTypes;\nAdMobComponent.defaultProps = {\n  request: new AdRequest().addTestDevice().build(),\n  video: new VideoOptions().build()\n};\nexport default AdMobComponent;","map":{"version":3,"sources":["C:/Users/fong/Desktop/code-18122020-combined/node_modules/react-native-firebase/dist/modules/admob/AdMobComponent.js"],"names":["React","ViewPropTypes","requireNativeComponent","PropTypes","EventTypes","NativeExpressEventTypes","nativeToJSError","AdRequest","VideoOptions","adMobPropTypes","size","string","isRequired","unitId","request","object","video","Object","keys","forEach","eventType","func","nativeComponents","getNativeComponent","name","component","AdMobComponent","nativeOnly","onBannerEvent","props","nativeEvent","type","payload","code","message","updateSize","Platform","OS","width","height","undefined","setState","state","nativeView","class","style","Component","propTypes","defaultProps","addTestDevice","build"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { ViewPropTypes, requireNativeComponent, Platform } from 'react-native';\nimport PropTypes from 'prop-types';\nimport EventTypes, { NativeExpressEventTypes } from './EventTypes';\nimport { nativeToJSError } from '../../utils';\nimport AdRequest from './AdRequest';\nimport VideoOptions from './VideoOptions';\nconst adMobPropTypes = { ...ViewPropTypes,\n  size: PropTypes.string.isRequired,\n  unitId: PropTypes.string.isRequired,\n\n  /* eslint-disable react/forbid-prop-types */\n  request: PropTypes.object,\n  video: PropTypes.object\n  /* eslint-enable react/forbid-prop-types */\n\n};\nObject.keys(EventTypes).forEach(eventType => {\n  adMobPropTypes[eventType] = PropTypes.func;\n});\nObject.keys(NativeExpressEventTypes).forEach(eventType => {\n  adMobPropTypes[eventType] = PropTypes.func;\n});\nconst nativeComponents = {};\n\nfunction getNativeComponent(name) {\n  if (nativeComponents[name]) return nativeComponents[name];\n  const component = requireNativeComponent(name, AdMobComponent, {\n    nativeOnly: {\n      onBannerEvent: true\n    }\n  });\n  nativeComponents[name] = component;\n  return component;\n}\n\nclass AdMobComponent extends React.Component {\n  static propTypes = adMobPropTypes;\n  static defaultProps = {\n    request: new AdRequest().addTestDevice().build(),\n    video: new VideoOptions().build()\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      width: 0,\n      height: 0\n    };\n    this.nativeView = getNativeComponent(props.class);\n  }\n  /**\n   * Handle a single banner event and pass to\n   * any props watching it\n   * @param nativeEvent\n   */\n\n\n  onBannerEvent = ({\n    nativeEvent\n  }) => {\n    const {\n      props\n    } = this;\n\n    if (props[nativeEvent.type]) {\n      if (nativeEvent.type === 'onAdFailedToLoad') {\n        const {\n          code,\n          message\n        } = nativeEvent.payload;\n        props[nativeEvent.type](nativeToJSError(code, message));\n      } else {\n        props[nativeEvent.type](nativeEvent.payload || {});\n      }\n    }\n\n    if (nativeEvent.type === 'onSizeChange') {\n      this.updateSize(nativeEvent.payload);\n    }\n\n    if (nativeEvent.type === 'onAdLoaded' && Platform.OS === 'ios') {\n      this.updateSize(nativeEvent.payload);\n    }\n  };\n  /**\n   * Set the JS size of the loaded banner\n   * @param width\n   * @param height\n   */\n\n  updateSize = ({\n    width,\n    height\n  }) => {\n    if (width !== undefined && height !== undefined) {\n      this.setState({\n        width,\n        height\n      });\n    }\n  };\n  /**\n   * Render the native component\n   * @returns {XML}\n   */\n\n  render() {\n    const {\n      style\n    } = this.props;\n    return <this.nativeView {...this.props} style={[style, { ...this.state\n    }]} onBannerEvent={this.onBannerEvent} />;\n  }\n\n}\n\nexport default AdMobComponent;"]},"metadata":{},"sourceType":"module"}